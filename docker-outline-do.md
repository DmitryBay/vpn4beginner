##### Выбор оптимального сервера
При выборе сервера, вы должны ориентироваться на следующие параметры:
- Локация. (Приоритет - Германия, Нидерланды).
- Способ оплаты. (можно поискать Русские компании с серверами в Европе). 
  Иначе придется использовать предоплаченные VISA, или искать сервера с UnionPay.
- Кол-во траффика. Обычный канал VPS - это безлимитный 100мбит. Но бывают вариации - 1гбитс, но с лимитом в 10тб трафика.

##### Замечания
- Это первый гайд, в нем я постараюсь описать самый простой способ поднять VPN. 
- Важно, если вам нужно просто открыть закрытый ресурс - вам может помочь бесплатное приложение бобер - https://apps.apple.com/ru/app/vpn-%D0%BC%D0%B0%D1%81%D1%82%D0%B5%D1%80-%D0%B2%D0%BF%D0%BD-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8/id1471664114 .

##### 1 Скачиваем приложение OUTLINE
- https://getoutline.org/ , там есть ссылки на клиент для WIN/MAC/ANDROID/IOS.
- так же, необходимо скачать Outline менеджер для компьютера по ссылке выше.

##### 2 Создание аккаунта на Digital Ocean.
Регистрируем аккаунт. Первая ссылка - моя реферальная, даст вам бонус на $100 на первые два месяца.
https://m.do.co/c/d563fcc6b7ad
https://www.digitalocean.com/

**Важно! Если вы не планируете использовать droplet, то удаляйте его, иначе вам будет приходить счета на оплату, которые нужно оплатить!**


##### 3 Создание сервера.
![DO select server](https://github.com/DmitryBay/vpn4beginner/blob/master/images/1.jpg?raw=true)
1. Нажимаем зеленую кнопку Create -> Create droplet
2. Выбираем следующие параметры:
- Ubuntu 20.04 / Basic / Regular Intel with SSD / 5$ сервер
- Регион - Amsterdam/Frankfurt, снизу выберите цифру тоже.
- Вкладка Authentication: Password, введите хороший пароль по правилам. 
- Ниже галочки не ставить
- Кликаем- создать, и ждем около 5-10 минут. 

##### 4 переходим в консоль. 
![DO select server](https://github.com/DmitryBay/vpn4beginner/blob/master/images/2.jpg?raw=true)
В вкладке Projects, выбираем проект в котором вы создали droplet.

Найдите ваш IP адрес, это 4 числа разделенные точками. 
ipv4: 46.100.100.100

1. Если у вас MacOS или Linux, то открывайте программу Terminal. 
Если у вас Windows - скачайте  https://www.putty.org/ (Я Win не работаю, поэтому мало знаю о софте). 

2. Открываете ваш Terminal (Putty), и подключаемся к нашему серверу с помощью ssh (укажите ваш ip, после каждой команды - нажимаем интер):
` ` `
ssh root@46.100.100.100
` ` `
3. Если появится окно:
Are you sure you want to continue connecting (yes/no/), то введите yes, и нажмите enter.

4. Введите ваш пароль, учтите, что при вводе пароля - буквы и знаки не отображаются. Нажмите Enter.

5. Если вы успешно ввели пароль, то получите следующую картинку:


##### 5 Установка Docker
Подробнее - https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04-ru
Кстати, вы можете просто выбрать сервер с предустановленным Docker на Этапе 3.

По очереди выполняем следующие команды, команды выполняются некоторое время, поэтому дождитесь, когда активности в терминале не будет: 

1. Обновляем пакетный менеджер
```
sudo apt update
```
2. Затем установите несколько необходимых пакетов, которые позволяют apt использовать пакеты через HTTPS:
```
sudo apt install apt-transport-https ca-certificates curl software-properties-common
```

3. Добавьте ключ GPG для официального репозитория Docker в вашу систему:
```
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

```

4. Добавьте репозиторий Docker в источники APT:
```
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"
```

5. Потом обновите базу данных пакетов и добавьте в нее пакеты Docker из недавно добавленного репозитория:
```shell
sudo apt update
```
6. Убедитесь, что установка будет выполняться из репозитория Docker, а не из репозитория Ubuntu по умолчанию:
```shell
apt-cache policy docker-ce
```
7. Установите докер
```shell
sudo apt install docker-ce
```

##### 6 Установка сервера OUTLINE
Подробнее: https://blog.ssdnodes.com/blog/outline-vpn-tutorial-vps/

1. Устанавливаем Outline сервер с помощью Docker
```shell
sudo wget -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh | bash
```
После выполнения команды, вы должны получить следующую строку
>{
"apiUrl": "https://123.456.78.9:12345/xxxxxxxxxxxxxxxxxxxxxxx",
"certSha256": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
}

2. Открываем OUTLINE Manager, который вы установили на ваш компьютер.
Выбираем - добавить сервер -> где угодно. Далее вставляем результат выполнения из прошлого шага.
Нажимаем - готово.
   
3. Раздаем доступы. 1 Ключ - один пользователь. Так проще подключать и отключать людей. 

4. Нажимаем кнопку - расшэрить ключ, и копируем ссылку, открываем ее у себя в браузере в девайсе. 
Открываете Outline manager. И либо у вас автоматически подключается ключ, либо вам нужно будет ввести ссылку в формате ss://
Разрешаете добавление конфигурации VPN на вашем устройстве. Кликаете по серверу и включаете его. 
   
5. Результатом этого действия будет, если вы откроете сайт https://2ip.ru/ , то ваша локация будет в Европе. 

